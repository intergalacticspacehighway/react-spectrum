<!-- Copyright 2020 Adobe. All rights reserved.
This file is licensed to you under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License. You may obtain a copy
of the License at http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software distributed under
the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
OF ANY KIND, either express or implied. See the License for the specific language
governing permissions and limitations under the License. -->

import style from '@react-spectrum/docs/src/docs.css';
import {Layout} from '@react-spectrum/docs';
export default Layout;

---
category: Introduction
---

# Why React Native Aria?

This page discusses why React Native Aria exists, and the problems it solves.

tl;dr

React native aria provides hooks for react-native-web and react-native (iOS/Android) to create commonly used components.

## Motivation

In an utopian world, we wish to have a component library that works on all the platforms without limiting it's styling, behavior and accessibility. In reality, this can be a bit tricky.

With the advent of React native, it has raised our expectations to build UIs across all the platforms while reusing as much code as possible. But in reality, RN ships with a very lean core with a lot of room for customizability. The downside of this is that we need to build our primitive components using View and Pressable or install third-party packages (like the one you're looking at). This is in contrast to the native development world where component APIs are shipped in the SDKs. For example

React native aria aims to solve this by providing low level primitives to create a component or primitive library that works on all platforms in the scope of React native.

Current proof of concept aims to solve this for web and mobile (Android/iOS).

For other platforms (macOS, Windows), we're exploring possibilities of using Native components that can be customized.

## Approach

For web, we've used React Aria which provides ARIA attributes and behaviour (keyboard navigation) for commonly used components.

For iOS/Android, we've created similar hooks like React Aria but instead of web-supported ARIA/behaviour, it returns React Native supported accessibility props.

### Why not directly use React aria with react native web?

Spreading props from [React Aria](https://react-spectrum.adobe.com/react-aria/) doesn't always work with react-native-web.

Below props [are not whitelisted](https://github.com/necolas/react-native-web/blob/master/packages/react-native-web/src/exports/View/index.js#L25) to be passed on View.

- role (needs to be passed as accessibilityRole), tabIndex (should be set via ref or using focusable/accessible), id (needs to be passed as nativeID).

- [onKeyDown cannot be passed to Pressable](https://github.com/necolas/react-native-web/issues/1862) - should be set using ref.

This makes sense as they're not valid React native props. If you need all of the above, simply use a div or any html element from React DOM and react-native-web will not complain.

- But this will require platform detection code when you want to create a component library that works on web and mobile.

- Writing platform specific conditions isn't that bad and sometimes essential, but using a div means you won't be able to use RN props e.g. (StyleSheet, onLayout, Animated).

**Note:** Stylesheet can still be used with a div or any html element using [this approach](https://necolas.github.io/react-native-web/docs/?path=/docs/guides-unstable-uses--page).

## Learn more

About the architecture - React Spectrum

